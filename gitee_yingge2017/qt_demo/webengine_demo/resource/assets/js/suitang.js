(function(t){function i(i){for(var o,a,r=i[0],l=i[1],c=i[2],u=0,p=[];u<r.length;u++)a=r[u],n[a]&&p.push(n[a][0]),n[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);d&&d(i);while(p.length)p.shift()();return s.push.apply(s,c||[]),e()}function e(){for(var t,i=0;i<s.length;i++){for(var e=s[i],o=!0,r=1;r<e.length;r++){var l=e[r];0!==n[l]&&(o=!1)}o&&(s.splice(i--,1),t=a(a.s=e[0]))}return t}var o={},n={suitang:0},s=[];function a(i){if(o[i])return o[i].exports;var e=o[i]={i:i,l:!1,exports:{}};return t[i].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=t,a.c=o,a.d=function(t,i,e){a.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,i){if(1&i&&(t=a(t)),8&i)return t;if(4&i&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var o in t)a.d(e,o,function(i){return t[i]}.bind(null,o));return e},a.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(i,"a",i),i},a.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},a.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=i,r=r.slice();for(var c=0;c<r.length;c++)i(r[c]);var d=l;s.push([2,"chunk-vendors","chunk-common"]),e()})({1219:function(t,i,e){},"13af":function(t,i,e){},2:function(t,i,e){t.exports=e("ebdf")},"2fb5":function(t,i,e){"use strict";var o=e("1219"),n=e.n(o);n.a},4578:function(t,i,e){"use strict";var o=e("13af"),n=e.n(o);n.a},ebdf:function(t,i,e){"use strict";e.r(i);e("d4df"),e("450d");var o=e("7fc1"),n=e.n(o),s=(e("1951"),e("eedf")),a=e.n(s),r=(e("3c52"),e("0d7b")),l=e.n(r),c=(e("fe07"),e("6ac5")),d=e.n(c),u=(e("560b"),e("dcdc")),p=e.n(u),h=(e("be4f"),e("896a")),f=e.n(h),v=(e("b5d8"),e("f494")),g=e.n(v),m=e("a026"),w=function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",{attrs:{id:"app"}},[o("div",{staticClass:"window_con"},[o("div",{staticClass:"title"},[o("div",[t._v("学生答题进度")]),o("el-radio-group",{attrs:{fill:"#8BADCE","text-color":"#FFFFFF"},on:{change:t.changeMode},model:{value:t.currMode,callback:function(i){t.currMode=i},expression:"currMode"}},[o("el-radio-button",{attrs:{label:"选项统计"}}),o("el-radio-button",{attrs:{label:"学生统计"}})],1)],1),o("div",{staticClass:"btn_close",on:{click:t.closeWindow}},[o("img",{attrs:{src:e("71e1")}})]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.showBoard,expression:"showBoard"}],staticClass:"boardImg"},[o("div",{staticClass:"imgWrap"},[o("img",{attrs:{src:t.boardUrl}})]),o("div",{staticClass:"btn_back",on:{click:t.closeBoard}},[o("img",{attrs:{src:e("0e23")}}),t._v("返回")])]),"学生统计"==t.currMode?o("div",{staticClass:"optionList"},[o("vue-scroll",["4"===t.quesType?o("el-checkbox-group",{model:{value:t.checked,callback:function(i){t.checked=i},expression:"checked"}},[t._l(t.updatedList,function(i,e){return o("div",{key:i.option,staticClass:"optionItem",class:"1"===i.isCorrOption?"right":""},[o("div",{staticClass:"optionTitle"},[o("div",{staticClass:"optionName",class:"1"===i.isCorrOption?"right":""},[o("el-checkbox",{key:i.option,attrs:{label:i.option,checked:"1"===i.isCorrOption},on:{change:function(i){return t.updateBar(i,e)}}},[t._v("\n                                    "+t._s(i.option)+"："+t._s(i.optionStuPOs.length)+"人\n                                ")])],1)]),o("div",{staticClass:"userList"},t._l(i.optionStuPOs,function(i){return o("div",{key:i.id,staticClass:"userItem"},[o("div",{staticClass:"avatar"},[o("img",{attrs:{src:i.imgUrl}})]),o("div",{staticClass:"name"},[t._v(t._s(i.stuName))])])}),0)])}),t._l(t.answerInfo,function(i,e){return i.calculate?t._e():o("div",{key:i.option,staticClass:"optionItem"},[o("div",{staticClass:"optionTitle"},[o("div",{staticClass:"optionName"},[o("el-checkbox",{key:i.option,attrs:{label:i.option,disabled:""}},[t._v("\n                                    "+t._s(i.option)+"："+t._s(i.optionStuPOs.length)+"人\n                                ")])],1)]),o("div",{staticClass:"userList"},t._l(i.optionStuPOs,function(i){return o("div",{key:i.id,staticClass:"userItem"},[o("div",{staticClass:"avatar"},[o("img",{attrs:{src:i.imgUrl}})]),o("div",{staticClass:"name"},[t._v(t._s(i.stuName))])])}),0)])})],2):o("el-radio-group",{model:{value:t.radio,callback:function(i){t.radio=i},expression:"radio"}},[t._l(t.updatedList,function(i){return o("div",{key:i.option,staticClass:"optionItem",class:t.radio===i.option?"right":""},[o("div",{staticClass:"optionTitle"},[o("div",{staticClass:"optionName",class:t.radio===i.option?"right":""},[o("el-radio",{attrs:{label:i.option,value:i.option},on:{change:t.setRadio}},[t._v("\n                                    "+t._s(i.option)+"："+t._s(i.optionStuPOs.length)+"人\n                                ")])],1)]),o("div",{staticClass:"userList"},t._l(i.optionStuPOs,function(i){return o("div",{key:i.id,staticClass:"userItem"},[o("div",{staticClass:"avatar"},[o("img",{attrs:{src:i.imgUrl}})]),o("div",{staticClass:"name"},[t._v(t._s(i.stuName))])])}),0)])}),t._l(t.answerInfo,function(i,e){return i.calculate?t._e():o("div",{key:i.option,staticClass:"optionItem"},[o("div",{staticClass:"optionTitle"},[o("div",{staticClass:"optionName"},[o("el-radio",{attrs:{label:i.option,value:i.option,disabled:""},on:{change:t.setRadio}},[t._v("\n                                            "+t._s(i.option)+"："+t._s(i.optionStuPOs.length)+"人\n                                    ")])],1)]),o("div",{staticClass:"userList"},t._l(i.optionStuPOs,function(i){return o("div",{key:i.id,staticClass:"userItem"},[o("div",{staticClass:"avatar"},[o("img",{attrs:{src:i.imgUrl}})]),o("div",{staticClass:"name"},[t._v(t._s(i.stuName))])])}),0)])})],2)],1)],1):t._e(),o("div",{directives:[{name:"show",rawName:"v-show",value:"选项统计"==t.currMode,expression:"currMode=='选项统计'"}],staticClass:"optionCharts",style:{height:.7*this.winHeight+"px",width:this.winWidth+"px"}},[o("v-chart",{ref:"answerBar",attrs:{options:t.option}}),o("div",{directives:[{name:"show",rawName:"v-show",value:!t.showBoard,expression:"!showBoard"}],staticClass:"selectArea"},t._l(t.updatedList,function(i,e){return o("div",{staticClass:"area",on:{click:function(i){return t.selectedAnswer(e)}}})}),0),o("div",{staticClass:"answerTip"},[t._v("\n                "+t._s(t.answerTip)+"\n                "),t.isOnline?o("div",{staticClass:"checkBoard",on:{click:t.openBoard}},[t._v("查看黑板图")]):t._e()])],1)])])},b=[],y=e("8271"),C=e("b8ba"),O=e.n(C),_=e("bc3a"),x=e.n(_),k=e("9ca8"),S=(e("94b1"),e("007d"),e("d28f"),{name:"App",components:{"v-chart":k["a"]},data:function(){return{dpr:1,isOnline:!1,showBoard:!1,winHeight:null,answerTip:"请选择正确答案",quesType:-1,currId:0,currMode:"选项统计",checked:[],radio:"",answerInfo:null,updatedList:null,boardUrl:"",option:{color:["#BAD1E5","#00D97F"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(t){var i;return i="-"!=t[1].value?t[1]:t[0],i.name+"<br/>人数 : "+i.value}},legend:{show:!1},grid:{top:"10%",left:"9%",right:"10%",bottom:"9%",containLabel:!1},xAxis:{nameTextStyle:{color:"#96A4B2",fontSize:18*localStorage.getItem("width")/1920},name:"选项",axisLine:{lineStyle:{color:"#C0C8D1"}},data:[]},yAxis:{name:"人数",splitNumber:1,nameTextStyle:{color:"#96A4B2",fontSize:18*localStorage.getItem("width")/1920},axisLine:{lineStyle:{color:"#C0C8D1"}},axisLabel:{color:"#96A4B2",fontSize:16*localStorage.getItem("width")/1920},splitLine:{lineStyle:{width:1*localStorage.getItem("width")/1920,color:"#C0C8D1",type:"dashed"}}},series:[{name:"选项",type:"bar",stack:"人数",barMaxWidth:"30%",data:[]},{name:"正确",type:"bar",stack:"人数",barMaxWidth:"30%",data:[]}]}}},computed:{optionList:function(){var t=[],i=!0,e=!1,o=void 0;try{for(var n,s=this.updatedList[Symbol.iterator]();!(i=(n=s.next()).done);i=!0){var a=n.value;t.push({value:a.option,textStyle:{fontSize:33*this.dpr,color:"#2E4A66"}})}}catch(r){e=!0,o=r}finally{try{i||null==s.return||s.return()}finally{if(e)throw o}}return t},rightOption:function(){var t=[],i=!0,e=!1,o=void 0;try{for(var n,s=this.updatedList[Symbol.iterator]();!(i=(n=s.next()).done);i=!0){var a=n.value;"1"===a.isCorrOption?t.push(a.optionStuPOs.length):t.push("-")}}catch(r){e=!0,o=r}finally{try{i||null==s.return||s.return()}finally{if(e)throw o}}return t},selectedOption:function(){var t=[],i=!0,e=!1,o=void 0;try{for(var n,s=this.updatedList[Symbol.iterator]();!(i=(n=s.next()).done);i=!0){var a=n.value;"1"===a.isCorrOption&&t.push(a.option)}}catch(r){e=!0,o=r}finally{try{i||null==s.return||s.return()}finally{if(e)throw o}}return t.join("")},normalOption:function(){var t=[],i=!0,e=!1,o=void 0;try{for(var n,s=this.updatedList[Symbol.iterator]();!(i=(n=s.next()).done);i=!0){var a=n.value;"1"!==a.isCorrOption?t.push(a.optionStuPOs.length):t.push("-")}}catch(r){e=!0,o=r}finally{try{i||null==s.return||s.return()}finally{if(e)throw o}}return t}},mounted:function(){console.log(window.innerWidth,window.innerHeight),console.log(this.winHeight,window.innerHeight),console.log(this.quesType,this.currId),this.loadRecordInfo(this.currId)},beforeMount:function(){this.dpr=localStorage.getItem("width")/1920,this.quesType=y["a"].getUrlPrams("type"),this.winWidth=parseInt(y["a"].getUrlPrams("width"))-40,this.winHeight=parseInt(y["a"].getUrlPrams("height"))-40,this.currId=y["a"].getUrlPrams("id"),this.isOnline="1"==y["a"].getUrlPrams("isOnline")},methods:{closeBoard:function(){this.showBoard=!1},openBoard:function(){this.showBoard=!0},initTip:function(){this.selectedOption.length>0?this.answerTip="已选择："+this.selectedOption:this.answerTip="请选择正确答案"},initRadio:function(){var t=!0,i=!1,e=void 0;try{for(var o,n=this.updatedList[Symbol.iterator]();!(t=(o=n.next()).done);t=!0){var s=o.value;"1"===s.isCorrOption&&(this.radio=s.option)}}catch(a){i=!0,e=a}finally{try{t||null==n.return||n.return()}finally{if(i)throw e}}},setRadio:function(t){this.radio=t;for(var i=this.updatedList,e=0;e<i.length;e++)i[e].option===t?this.updatedList[e].isCorrOption="1":this.updatedList[e].isCorrOption="0";this.option.series[0].data=this.normalOption,this.option.series[1].data=this.rightOption,this.postAnswer()},selectedAnswer:function(t){if("4"===this.quesType)"1"===this.updatedList[t].isCorrOption?this.updatedList[t].isCorrOption="0":this.updatedList[t].isCorrOption="1";else for(var i=this.updatedList,e=0;e<i.length;e++)i[e].option===this.updatedList[t].option?this.updatedList[e].isCorrOption="1":this.updatedList[e].isCorrOption="0";this.option.series[0].data=this.normalOption,this.option.series[1].data=this.rightOption,this.postAnswer()},postAnswer:function(){var t=this.selectedOption,i=this.currId,e=this;x.a.get(O.a.api_tl+"api/subCorrOption",{params:{interactRecordId:i,corrOption:t}}).then(function(t){console.log(t),e.initTip()}).catch(function(t){console.log(t)})},updateBar:function(t,i){console.log(t,i),this.updatedList[i].isCorrOption=t?"1":"0",this.option.series[0].data=this.normalOption,this.option.series[1].data=this.rightOption,this.postAnswer()},changeMode:function(t){console.log(t),this.currMode=t,this.initRadio()},loadRecordInfo:function(){var t=this,i=this.currId;x.a.get(O.a.api_tl+"api/selOptionStatistic",{params:{interactRecordId:i}}).then(function(i){console.log(i.data.data),t.answerInfo=i.data.data.optionList,t.updatedList=t._.filter(t.answerInfo,["calculate",1]),t.boardUrl=i.data.data.blackImg,t.option.xAxis.data=t.optionList,t.option.color=t.colorList,t.option.series[0].data=t.normalOption,t.option.series[1].data=t.rightOption,t.initTip(),4!==t.quesType&&t.initRadio(),console.log(t.option)}).catch(function(t){console.log(t)})},closeWindow:function(){window.cefQuery({request:"closeWindowSuitang",onsuccess:function(t){console.log("invoke success response = "+t)},onFailure:function(t,i){console.log("invoke fail code = "+t+" msg:"+i)}})}}}),L=S,I=(e("4578"),e("2fb5"),e("2877")),T=Object(I["a"])(L,w,b,!1,null,"1d3f0da8",null),P=T.exports,B=e("2ef0"),A=e.n(B),M=e("77a0"),N=e.n(M);e("aaf0"),e("0fae"),e("a939");m["default"].use(N.a),m["default"].use(g.a),m["default"].use(f.a),m["default"].use(p.a),m["default"].use(d.a),m["default"].use(l.a),m["default"].use(a.a),m["default"].use(n.a),m["default"].prototype.$vuescrollConfig={bar:{keepShow:!0,background:"#DDE6EE"}},m["default"].prototype._=A.a,m["default"].config.productionTip=!1,new m["default"]({render:function(t){return t(P)}}).$mount("#app")}});
//# sourceMappingURL=suitang.js.map